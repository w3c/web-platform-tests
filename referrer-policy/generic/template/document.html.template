<!DOCTYPE html>
<html>
  <head>
    <title>This page reports back it's request details to the parent frame</title>
    <!-- Common global functions for referrer-policy tests. -->
    <script src="/referrer-policy/generic/common.js"></script>
  </head>
  <body>
    <h2>This page reports back it's request details to the parent frame</h2>
    <pre>%(headers)s</pre>

    <script>
      var SERVER_REQUEST_HEADERS = %(headers)s;
      var result = {
        location: document.location.toString(),
        referrer: document.referrer.length > 0 ? document.referrer : undefined,
        headers: SERVER_REQUEST_HEADERS
      };
      parent.postMessage(result, "*");
    </script>

  </body>
</html>
