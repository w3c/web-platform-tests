<!DOCTYPE html>
<meta charset="utf-8">
<title>WebStorage Test: sessionStorage - destory top-level browsing context</title>
<link rel="author" title="Intel" href="http://www.intel.com">
<link rel="help" href="https://w3c.github.io/webstorage/#the-sessionstorage-attribute">
<meta name="assert" content="When a top-level browsing context is destroyed,
                             the data stored in its session storage areas can be
                             discarded with it.">
<body onload="loadSessionStorage()">
  <span id="value" style="font-weight: bold;"></span>
  <p>session storage data</P>
  <input type="text" id="data">
  <input type="button" id="save" value="save"  onclick="saveSessionlStorage()">
  <ol>
    <li>
      Input value of the textbox, click 'Save' button.
    </li>
    <li>
      If the value after 'your session storage data: ' doesn't equal
      the input value, it stores fail.
    </li>
    <li>Close the page and reopen it.</li>
    <li>
      If the value after 'your session storage data: ' is null,
      it should be passed, otherwise it fail.
    </li>
  </ol>
  <script>
    var storage = window.sessionStorage;
    var keyName = "storageKey";

    function loadSessionStorage() {
      var storageValue = document.getElementById("value");
      storageValue.innerHTML = "your session storage data: " + storage.getItem(keyName);
    }

    function saveSessionlStorage() {
      var storageData = document.getElementById("data");
      storage.setItem(keyName, storageData.value);
      loadSessionStorage();
    }
  </script>
</body>

