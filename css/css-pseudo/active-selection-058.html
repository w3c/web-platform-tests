<!DOCTYPE html>

  <meta charset="UTF-8">

  <title>CSS Pseudo-Elements Test: active selection and background painting of 2 empty elements</title>

  <link rel="author" title="GÃ©rard Talbot" href="http://www.gtalbot.org/BrowserBugsSection/css21testsuite/">
  <link rel="help" href="https://www.w3.org/TR/css-pseudo-4/#highlight-selectors">
  <link rel="match" href="reference/ref-filled-green-100px-square.xht">

  <meta content="" name="flags">
  <meta name="assert" content="This test checks that a &lt;div&gt; element and an &lt;hr&gt; element, although empty elements in this test, can be selected and their respective backgrounds can be painted.">

  <style>
  div#subtest1 , hr#subtest2
    {
      background-color: transparent; /* or initial or unset */
      border: none 0px;
      height: 50px;
      margin: 0px;
      /*
      We need to neutralize the default
      margins of the hr element
      so that the bottom edge of the
      div element "touches" the top edge
      of the hr element.
      We also need to "zero-neutralize"
      the default left margin of the
      hr element.
      */
      width: 100px;
    }

  div#subtest1::selection , hr#subtest2::selection
    {
      background-color: green;
      color: red;
    }
  </style>

  <script>
  function startTest()
  {
  var targetRange = document.createRange();
  /* We first create an empty range */
  targetRange.selectNodeContents(document.getElementById("test"));
  /* Then we set the range boundaries to the children of div#test */
  window.getSelection().addRange(targetRange);
  /* Finally, we now select such range of content */
  }
  </script>

  <body onload="startTest();">

  <p>Test passes if there is a filled green square and <strong>no red</strong>.

  <div id="test">

    <div id="subtest1"></div>

    <hr id="subtest2">

  </div>
