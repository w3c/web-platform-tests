<!doctype html>
<iframe id="test" name="test"></iframe>
<form target="test" action="javascript:(()=>{document.write(`<script>parent.postMessage('write', '*')</script>`); return `<!-- this should not be successful --><script>parent.postMessage('click', '*')</script>`})()"></form>
<a target="test" onclick="document.forms[0].submit();" href="href.html">Test</a>
<script>
window.onmessage = function(e) {
  parent.postMessage(e.data, "*");
};
window.onload = function() {
  document.querySelector("a").click();
};
</script>
