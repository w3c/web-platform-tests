<!DOCTYPE html>
<meta charset='utf-8'>
<title>URLs with embedded passwords</title>
<script>
window.onload = function() {
  navigator.registerContentHandler('text/x-hoobaflooba',
  location.href.replace(/\/([a-z0-9-]+)\.html/g,'') + '/res/password.html#%s',
  'foobar');

  /* Set the path to the test file with a username and password*/
  var url = window.location.href.replace(/\/([a-z0-9-]+)\.html/g,'') + '/res/password/x-hoobaflooba.hooba';
  url = url.replace(':\/\/', ':\/\/foo:bar@');
  document.getElementsByTagName('a')[0].href = url;
}
</script>

<p><strong>Note:</strong> Before running this test, delete all registered
custom handlers and restart your browser.

<ol>
 <li>After loading this page, the browser should prompt you to allow a handler
 to be added. Allow it.
 <li>Click <a href='#'>this link</a>.
 <li>The browser should prompt you to allow the handler to be used. Allow it.
 <li>You should see the word “PASS”.
</ol>

