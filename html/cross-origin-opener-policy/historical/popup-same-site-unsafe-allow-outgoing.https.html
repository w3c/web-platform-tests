<!doctype html>
<meta charset=utf-8>
<script src=/resources/testharness.js></script>
<script src=/resources/testharnessreport.js></script>
<script src="/common/get-host-info.sub.js"></script>
<script src="../resources/common.js"></script>

<div id=log></div>
<script>

let tests = [
  // popup Origin, popup COOP, expect opener
  [SAME_ORIGIN, "", true],
  [SAME_ORIGIN, "unsafe-none", true],
  [SAME_ORIGIN, "jibberish", true],
  [SAME_ORIGIN, "same-site", true], // historical value
  [SAME_ORIGIN, "same-site unsafe-allow-outgoing", true], // historical value
  [SAME_ORIGIN, "same-origin unsafe-allow-outgoing", true], // historical value
  [SAME_ORIGIN, "same-origin", false],
  [SAME_ORIGIN, "same-origin-allow-popups", false],

  [SAME_SITE, "", true],
  [SAME_SITE, "unsafe-none", true],
  [SAME_SITE, "jibberish", true],
  [SAME_SITE, "same-site", true], // historical value
  [SAME_SITE, "same-site unsafe-allow-outgoing", true], // historical value
  [SAME_SITE, "same-origin unsafe-allow-outgoing", true], // historical value
  [SAME_SITE, "same-origin", false],
  [SAME_SITE, "same-origin-allow-popups", false],

  [CROSS_ORIGIN, "", true],
  [CROSS_ORIGIN, "unsafe-none", true],
  [CROSS_ORIGIN, "jibberish", true],
  [CROSS_ORIGIN, "same-site", true], // historical value
  [CROSS_ORIGIN, "same-site unsafe-allow-outgoing", true], // historical value
  [CROSS_ORIGIN, "same-origin unsafe-allow-outgoing", true], // historical value
  [CROSS_ORIGIN, "same-origin", false],
  [CROSS_ORIGIN, "same-origin-allow-popups", false],
];

run_coop_tests("same-site unsafe-allow-outgoing", tests);

</script>
