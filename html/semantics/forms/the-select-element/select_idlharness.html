<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>HTML Test: select_idlharness</title>
    <link rel="author" title="Intel" href="http://www.intel.com/">
    <link rel="help" href="http://www.w3.org/TR/2012/CR-html5-20121217/forms.html#the-select-element">
    <script src="/resources/testharness.js"></script>
    <script src="/resources/testharnessreport.js"></script>
    <script src="/resources/webidl2/lib/webidl2.js"></script>
    <script src="/resources/idlharness.js"></script>
  </head>
  <body>
    <p>This test verifies the HTMLSelectElement interface included in the HTML5.0 specification</p>

    <pre id='untested_idl' style='display:none'>
      interface HTMLElement {
      };
      interface HTMLFormElement {
      };
      interface HTMLOptionsCollection {
      };
      interface HTMLOptionElement {
      };
      interface HTMLOptGroupElement {
      };
      interface ValidityState {
      };
      interface HTMLCollection {
      };
      interface NodeList {
      };
    </pre>

    <pre id='idl' style='display: none'>
      interface HTMLSelectElement : HTMLElement {
                 attribute boolean autofocus;
                 attribute boolean disabled;
        readonly attribute HTMLFormElement? form;
                 attribute boolean multiple;
                 attribute DOMString name;
                 attribute boolean required;
                 attribute unsigned long size;

        readonly attribute DOMString type;

        readonly attribute HTMLOptionsCollection options;
                 attribute unsigned long length;
        getter Element item(unsigned long index);
        object namedItem(DOMString name);
        void add((HTMLOptionElement or HTMLOptGroupElement) element, optional (HTMLElement or long)? before = null);
        void remove(long index);
        setter creator void (unsigned long index, HTMLOptionElement? option);

        readonly attribute HTMLCollection selectedOptions;
                 attribute long selectedIndex;
                 attribute DOMString value;

        readonly attribute boolean willValidate;
        readonly attribute ValidityState validity;
        readonly attribute DOMString validationMessage;
        boolean checkValidity();
        void setCustomValidity(DOMString error);

        readonly attribute NodeList labels;
      };
    </pre>

    <select id="testselect" style="display: none">
      <option value="1"> Miner </option>
      <option value="2" selected> Puffer </option>
    </select>

    <div id="log"></div>

    <script>
        (function() {
            var idl_array = new IdlArray();

            idl_array.add_untested_idls(document.getElementById("untested_idl").textContent);
            idl_array.add_idls(document.getElementById("idl").textContent);

            var testElement = document.getElementById("testselect");

            idl_array.add_objects({HTMLSelectElement: [testElement]});

            idl_array.test();
        })();
    </script>
  </body>
</html>
